---
layout: post
title:  Parsing ISO8583 messages with PHP
summary: Recently I've needed a PHP library to pack and unpack ISO8583 formatted messages, but there seems to be very few around. I got frustrated, and so created my own.
---

At work recently we've needed some way to easily pack and unpack ISO8583 formatted messages to integrate with PayPoint. You might assume there would be an abundance of open-source packages, right? Wrong. There is very, very few.

That said, we did end up using one of the few we found. We used [miome/iso8583](https://github.com/m1ome/iso8583/). His library takes a hexadecimal ISO8583 formatted string and parses it to a numeric array of data, where the array index is the bit the data corresponds to. Simple, right? Our application needed more, though. We needed a way to easily set this data into a useful, accessible, schema class. Our application also had to know which properties were set on the schema class and keep track of the formats and types.

In the end, we built `FinanceMessageBuilder` and `FinanceMessageManager` classes that were responsible for; taking the numeric array and setting the data into the schema class based on a json cache file that was generated by reading the schema property annotations, and keeping track of the properties set on the schema class. This worked, but wasn't ideal.

'Why couldn't all this be part of one library?' I thought. The combined code is all concerned with the same goal, so why not? Enter `kaperys/financial`.
